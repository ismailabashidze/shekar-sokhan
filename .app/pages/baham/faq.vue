<script setup lang="ts">
definePageMeta({
  title: 'سوالات متداول - با هم',
  layout: 'sidebar'
})

useHead({
  title: 'سوالات متداول - با هم',
  meta: [
    { name: 'description', content: 'سوالات متداول درباره پلتفرم اشتراک‌گذاری محصولات کشاورزی با هم' }
  ],
   htmlAttrs: { dir: 'rtl' } 

})

const faqCategories = [
  {
    id: 'general',
    title: 'سوالات عمومی',
    icon: 'ph:question-duotone',
    faqs: [
      {
        question: 'پلتفرم «با هم» چیست؟',
        answer: '«با هم» یک پلتفرم دیجیتال است که تولیدکنندگان کشاورزی را به طور مستقیم با مصرف‌کنندگان نهایی متصل می‌کند تا شکاف بین تولید و مصرف را کاهش دهد. هدف ما ایجاد یک اکوسیستم شفاف، کارآمد و عادلانه برای همه ذی‌نفعان بخش کشاورزی است.'
      },
      {
        question: 'چه مزایایی برای استفاده از پلتفرم «با هم» وجود دارد؟',
        answer: 'مزایای استفاده از پلتفرم «با هم» شامل: 1) کاهش هزینه‌های واسطه‌گری 2) دسترسی مستقیم به تولیدکنندگان محلی 3) تضمین کیفیت محصولات 4) شفافیت کامل در قیمت‌گذاری 5) پشتیبانی از تولیدکنندگان محلی 6) سیستم امتیازدهی برای انتخاب بهترین ارائه‌دهندگان'
      },
      {
        question: 'آیا استفاده از پلتفرم رایگان است؟',
        answer: 'بله، استفاده از پلتفرم برای خریداران کاملاً رایگان است. تنها هزینه‌ای که پرداخت می‌کنید، قیمت محصولات و کارمزد کوچک تراکنش است که به صورت شفاف نمایش داده می‌شود.'
      },
      {
        question: 'آیا پلتفرم فقط برای محصولات کشاورزی است؟',
        answer: 'در حال حاضر، پلتفرم تمرکز خود را بر محصولات کشاورزی گذاشته است، اما در آینده قصد داریم دامنه محصولات را گسترش دهیم تا شامل محصولات دامی، باغی و صنایع غذایی نیز شود.'
      },
      {
        question: 'چگونه می‌توانم از امنیت پلتفرم اطمینان پیدا کنم؟',
        answer: 'پلتفرم «با هم» از استانداردهای امنیتی بانکی پیروی می‌کند. تمام اطلاعات کاربران رمزگذاری شده و در سرورهای امن ذخیره می‌شوند. همچنین، پرداخت‌ها از طریق درگاه‌های معتبر بانکی انجام می‌شوند.'
      },
      {
        question: 'آیا می‌توانم از طریق موبایل از پلتفرم استفاده کنم؟',
        answer: 'بله، پلتفرم «با هم» به صورت کاملاً واکنش‌گرا طراحی شده و روی تمام دستگاه‌ها اعم از موبایل، تبلت و کامپیوتر قابل استفاده است. همچنین نسخه اپلیکیشن موبایل نیز در دست تهیه است.'
      },
      {
        question: 'چگونه می‌توانم با تیم پشتیبانی تماس بگیرم؟',
        answer: 'شما می‌توانید از طریق بخش «پشتیبانی» در پنل کاربری، از طریق فرم تماس در سایت یا با شماره تلفن پشتیبانی با ما در ارتباط باشید. همچنین از طریق ایمیل support@baham.ir نیز می‌توانید با ما تماس بگیرید.'
      }
    ]
  },
  {
    id: 'registration',
    title: 'ثبت نام و احراز هویت',
    icon: 'ph:user-plus-duotone',
    faqs: [
      {
        question: 'چگونه می‌توانم در پلتفرم ثبت نام کنم؟',
        answer: 'شما می‌توانید از طریق صفحه ثبت نام و با انتخاب نقش خود (خریدار، توزیع‌کننده یا ارائه‌دهنده) در پلتفرم ثبت نام کنید. توزیع‌کنندگان و ارائه‌دهندگان نیاز به آپلود مدارک دارند. مراحل ثبت نام شامل: 1) وارد کردن اطلاعات پایه 2) تأیید شماره تلفن 3) انتخاب نقش 4) آپلود مدارک (برای توزیع‌کنندگان و ارائه‌دهندگان) 5) تأیید نهایی توسط تیم ما'
      },
      {
        question: 'چه مدارکی برای ثبت نام به عنوان توزیع‌کننده یا ارائه‌دهنده نیاز است؟',
        answer: 'برای ثبت نام به عنوان توزیع‌کننده یا ارائه‌دهنده، نیاز به مدارک زیر دارید: 1) کارت ملی 2) شناسنامه 3) پروانه کسب یا مجوز فعالیت 4) مدارک مالی (صورت‌حساب‌های اخیر) 5) عکس محل کسب و فعالیت. تمام مدارک به صورت دیجیتال آپلود می‌شوند و پس از بررسی توسط تیم ما، حساب کاربری شما فعال می‌شود.'
      },
      {
        question: 'چقدر طول می‌کشد تا حساب کاربری من تأیید شود؟',
        answer: 'فرآیند تأیید حساب کاربری معمولاً بین 24 تا 72 ساعت طول می‌کشد. این زمان بستگی به کامل بودن مدارک ارسالی و حجم درخواست‌های دریافتی دارد. در صورت نیاز به اطلاعات بیشتر، تیم پشتیبانی با شما تماس خواهد گرفت.'
      },
      {
        question: 'آیا می‌توانم نقش خود را بعداً تغییر دهم؟',
        answer: 'بله، شما می‌توانید با تماس با تیم پشتیبانی، نقش خود را تغییر دهید. در این صورت، ممکن است نیاز به ارائه مدارک اضافی برای نقش جدید داشته باشید و فرآیند تأیید مجدد انجام شود.'
      },
      {
        question: 'اگر مدارک من تأیید نشود چه می‌شود؟',
        answer: 'در صورت عدم تأیید مدارک، تیم پشتیبانی با شما تماس گرفته و دلیل عدم تأیید را توضیح می‌دهد. شما می‌توانید مدارک تصحیح شده را مجدداً آپلود کنید تا مراحل تأیید مجدد انجام شود.'
      },
      {
        question: 'آیا اطلاعات من محرمانه باقی می‌ماند؟',
        answer: 'بله، تمام اطلاعات کاربران محرمانه است و بر اساس قوانین حفظ حریم خصوصی ذخیره می‌شود. اطلاعات شما با هیچ شخص ثالثی به اشتراک گذاشته نمی‌شود، مگر اینکه قانوناً مجبور به این کار باشیم.'
      },
      {
        question: 'چگونه می‌توانم رمز عبور خود را تغییر دهم؟',
        answer: 'شما می‌توانید از طریق بخش «پروفایل و تنظیمات» در پنل کاربری خود، به بخش «امنیت» رفته و رمز عبور خود را تغییر دهید. همچنین می‌توانید از طریق صفحه ورود گزینه «رمز عبور را فراموش کرده‌اید؟» را انتخاب کنید.'
      }
    ]
  },
  {
    id: 'ordering',
    title: 'ثبت سفارش و خرید',
    icon: 'ph:shopping-cart-duotone',
    faqs: [
      {
        question: 'چگونه می‌توانم سفارش خود را ثبت کنم؟',
        answer: 'برای ثبت سفارش، مراحل زیر را دنبال کنید: 1) وارد حساب کاربری خود شوید 2) به بخش «بازار» بروید 3) محصول مورد نظر خود را انتخاب کنید 4) مقدار مورد نیاز را مشخص کنید 5) روش تحویل را انتخاب کنید (تحویل از توزیع‌کننده یا دریافت مستقیم) 6) سفارش را به سبد خرید اضافه کنید 7) از بخش سبد خرید، سفارش خود را نهایی کنید و پرداخت کنید.'
      },
      {
        question: 'آیا می‌توانم چندین سفارش را با هم ثبت کنم؟',
        answer: 'بله، شما می‌توانید چندین سفارش را در یک بار ثبت کنید. کافی است محصولات مورد نظر خود را به سبد خرید اضافه کنید و سپس تمام سفارشات را با یک پرداخت نهایی تکمیل کنید. این ویژگی به شما کمک می‌کند زمان و هزینه خود را بهینه کنید.'
      },
      {
        question: 'چگونه می‌توانم وضعیت سفارش خود را دنبال کنم؟',
        answer: 'شما می‌توانید وضعیت سفارش خود را از طریق بخش «سفارشات من» در پنل کاربری دنبال کنید. هر سفارش دارای وضعیت‌های مشخصی است: ثبت شده، تأیید شده توسط ارائه‌دهنده، ارسال شده، در حال تحویل و تحویل داده شده. همچنین از طریق اعلان‌ها، از تغییرات وضعیت سفارش خود مطلع می‌شوید.'
      },
      {
        question: 'آیا می‌توانم سفارش خود را لغو کنم؟',
        answer: 'لغو سفارش بستگی به وضعیت آن دارد. اگر سفارش هنوز تأیید نشده باشد، می‌توانید آن را لغو کنید. اما اگر سفارش تأیید شده باشد، باید با تیم پشتیبانی تماس بگیرید. در صورت لغو، مبلغ پرداختی به کیف پول شما بازگردانده می‌شود.'
      },
      {
        question: 'چگونه می‌توانم فاکتور سفارش خود را دریافت کنم؟',
        answer: 'شما می‌توانید فاکتور سفارش خود را از بخش «سفارشات من» و با کلیک بر روی شماره سفارش، دریافت کنید. فاکتور به صورت PDF قابل دانلود است و می‌توانید آن را چاپ یا ایمیل کنید.'
      },
      {
        question: 'آیا می‌توانم تاریخ تحویل سفارش خود را تغییر دهم؟',
        answer: 'بله، اگر سفارش شما هنوز ارسال نشده باشد، می‌توانید با تماس با تیم پشتیبانی، تاریخ تحویل را تغییر دهید. این امکان بستگی به زمان‌بندی ارائه‌دهنده و توزیع‌کننده نیز دارد.'
      },
      {
        question: 'چگونه می‌توانم در مورد محصولات سوال بپرسم؟',
        answer: 'شما می‌توانید در صفحه جزئیات هر محصول، در بخش نظرات و پرسش‌ها، سوالات خود را مطرح کنید. ارائه‌دهنده و دیگر کاربران می‌توانند به سوالات شما پاسخ دهند. همچنین می‌توانید با تماس مستقیم با ارائه‌دهنده، اطلاعات بیشتری دریافت کنید.'
      }
    ]
  },
  {
    id: 'payment',
    title: 'پرداخت و مالی',
    icon: 'ph:currency-circle-dollar-duotone',
    faqs: [
      {
        question: 'هزینه استفاده از پلتفرم چقدر است؟',
        answer: 'پلتفرم کارمزدی از هر تراکنش دریافت می‌کند که به طور شفاف در هنگام ثبت سفارش نمایش داده می‌شود. کارمزد متغیر است و بسته به نوع تراکنش و مقدار سفارش تعیین می‌شود. هیچ هزینه ثبت نام یا عضویت وجود ندارد.'
      },
      {
        question: 'روش‌های پرداخت چیست؟',
        answer: 'پلتفرم از درگاه‌های پرداخت معتبر بانکی پشتیبانی می‌کند. همچنین امکان پرداخت از طریق کیف پول داخلی نیز وجود دارد. برای کاربران حرفه‌ای، امکان پرداخت نسیه نیز فراهم شده است که پس از تأیید اعتبار، فعال می‌شود.'
      },
      {
        question: 'چگونه می‌توانم کیف پول خود را شارژ کنم؟',
        answer: 'برای شارژ کیف پول خود، به بخش «کیف پول» در پنل کاربری بروید و روی «شارژ کیف پول» کلیک کنید. سپس مبلغ مورد نظر را وارد کرده و از طریق یکی از روش‌های پرداخت موجود، شارژ را انجام دهید. شارژ کیف پول بلافاصله پس از تأیید پرداخت انجام می‌شود.'
      },
      {
        question: 'آیا می‌توانم از کارت‌های بانکی خارجی استفاده کنم؟',
        answer: 'در حال حاضر، پلتفرم فقط از کارت‌های بانکی ایران پشتیبانی می‌کند. اما در آینده قصد داریم امکان پرداخت از طریق کارت‌های خارجی و ارز دیجیتال را نیز فراهم کنیم.'
      },
      {
        question: 'چه اتفاقی می‌افتد اگر پرداخت من ناموفق باشد؟',
        answer: 'اگر پرداخت شما ناموفق باشد، سفارش شما در حالت «در انتظار پرداخت» باقی می‌ماند و می‌توانید مجدداً اقدام به پرداخت کنید. در صورتی که مبلغی از حساب شما کسر شده باشد، طی 72 ساعت به حساب شما بازگردانده می‌شود.'
      },
      {
        question: 'آیا می‌توانم مبلغ کیف پول خود را برداشت کنم؟',
        answer: 'برای کاربران ارائه‌دهنده و توزیع‌کننده، امکان برداشت مبالغ موجود در کیف پول وجود دارد. شما می‌توانید از طریق بخش «کیف پول» درخواست برداشت ارسال کنید و مبلغ پس از تأیید به حساب بانکی شما واریز می‌شود.'
      },
      {
        question: 'چگونه می‌توانم تاریخچه تراکنش‌های خود را مشاهده کنم؟',
        answer: 'شما می‌توانید تاریخچه کامل تراکنش‌های خود را از بخش «تراکنش‌های مالی» در پنل کاربری مشاهده کنید. این بخش شامل تمام ورودی‌ها و خروجی‌های کیف پول شماست و قابلیت فیلتر بر اساس تاریخ و نوع تراکنش را دارد.'
      }
    ]
  },
  {
    id: 'quality',
    title: 'کیفیت و تحویل',
    icon: 'ph:shield-check-duotone',
    faqs: [
      {
        question: 'چگونه کیفیت محصولات تضمین می‌شود؟',
        answer: 'تمام ارائه‌دهندگان ملزم به آپلود مدارک مربوطه هستند و پیش از فعالیت در پلتفرم، توسط تیم ما بررسی و تأیید می‌شوند. همچنین سیستم امتیازدهی کاربران به کیفیت خدمات کمک می‌کند. در صورت وجود هرگونه مشکل در کیفیت محصولات، می‌توانید از طریق سیستم تیکت‌ها اقدام کنید.'
      },
      {
        question: 'در صورت عدم رضایت از کیفیت محصول چه باید کرد؟',
        answer: 'در صورت عدم رضایت از کیفیت محصول، می‌توانید از طریق سیستم تیکت‌ها گزارش دهید. تیم پشتیبانی در اسرع وقت موضوع را بررسی کرده و در صورت تأیید، راه‌حل مناسب (مانند بازپرداخت یا تعویض محصول) ارائه می‌دهد.'
      },
      {
        question: 'چه مدت طول می‌کشد تا سفارش تحویل داده شود؟',
        answer: 'زمان تحویل سفارش بستگی به فاصله مکانی، نوع محصول و روش تحویل دارد. به طور کلی، سفارشات در بازه 24 تا 72 ساعت تحویل داده می‌شوند. برای محصولات خاص (مانند محصولات تازه)، زمان تحویل ممکن است کوتاه‌تر باشد.'
      },
      {
        question: 'آیا می‌توانم زمان تحویل را انتخاب کنم؟',
        answer: 'بله، شما می‌توانید زمان تقریبی تحویل را در هنگام ثبت سفارش انتخاب کنید. این امکان بستگی به زمان‌بندی ارائه‌دهنده و توزیع‌کننده دارد. برای سفارشات خاص مانند محصولات تازه، زمان تحویل محدودتر است.'
      },
      {
        question: 'در صورت آسیب دیدن محصول در حین تحویل چه باید کرد؟',
        answer: 'اگر محصول شما در حین تحویل آسیب دیده باشد، حتماً قبل از امضای فرم تحویل، آسیب را گزارش دهید. در صورت عدم گزارش در محل، می‌توانید ظرف 24 ساعت از طریق سیستم تیکت‌ها اقدام کنید. تصاویر از محصول آسیب‌دیده نیز کمک می‌کند تا روند بررسی سریع‌تر انجام شود.'
      },
      {
        question: 'آیا تحویل در محل کار/خانه امکان‌پذیر است؟',
        answer: 'بله، شما می‌توانید آدرس تحویل را به دلخواه انتخاب کنید. این آدرس می‌تواند محل کار، خانه یا هر آدرس دیگری باشد که در دسترس شماست. توجه داشته باشید که هزینه تحویل ممکن است بسته به فاصله مکانی متفاوت باشد.'
      },
      {
        question: 'چگونه می‌توانم از تاریخ انقضا محصولات مطلع شوم؟',
        answer: 'تاریخ انقضا هر محصول به وضوح در صفحه جزئیات محصول و همچنین در فاکتور سفارش نمایش داده می‌شود. شما همچنین می‌توانید در هنگام ثبت سفارش، محصولاتی با تاریخ انقضای دورتر را انتخاب کنید. برای محصولات تازه، تاریخ انقضا بسیار مهم است و به شدت توصیه می‌شود.'
      }
    ]
  }
]

const activeCategory = ref('general')
const openFAQs = ref<Record<string, boolean>>({})

const toggleFAQ = (index: number) => {
  const key = `${activeCategory.value}-${index}`
  openFAQs.value[key] = !openFAQs.value[key]
}

const isOpen = (index: number) => {
  const key = `${activeCategory.value}-${index}`
  return openFAQs.value[key] || false
}
</script>

<template>
  <!-- Navigation Links -->
    <div class="mt-6">
      <BahamNavigation />
    </div>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="text-center mb-12">
      <div class="flex justify-center mb-6">
        <div class="nui-mask nui-mask-hexed bg-primary-500/10 flex size-20 items-center justify-center animate-pulse">
          <Icon name="ph:question-duotone" class="text-primary-500 size-10" />
        </div>
      </div>
      <BaseHeading tag="h1" size="3xl" weight="bold" class="mb-4">
        سوالات متداول
      </BaseHeading>
      <BaseParagraph size="lg" class="text-muted-600 dark:text-muted-300 max-w-3xl mx-auto">
        به بخش سوالات متداول پلتفرم «با هم» خوش آمدید. در اینجا پاسخ بیشتر سوالات رایج شما را خواهید یافت.
      </BaseParagraph>
    </div>

    <!-- Category Navigation -->
    <div class="mb-12">
      <div class="flex flex-wrap justify-center gap-3 mb-8">
        <BaseButton
          v-for="category in faqCategories"
          :key="category.id"
          :color="activeCategory === category.id ? 'primary' : 'default'"
          :outlined="activeCategory !== category.id"
          @click="activeCategory = category.id"
          class="transition-all duration-300 hover:scale-105"
        >
          <Icon :name="category.icon" class="size-5 ml-2" />
          {{ category.title }}
        </BaseButton>
      </div>

      <!-- FAQ Accordion -->
      <div class="max-w-4xl mx-auto">
        <TransitionGroup name="fade" tag="div" class="space-y-4">
          <BaseCard 
            v-for="(faq, index) in faqCategories.find(c => c.id === activeCategory)?.faqs" 
            :key="`${activeCategory}-${index}`"
            rounded="lg" 
            class="dark:!bg-muted-900 overflow-hidden transition-all duration-300 hover:shadow-lg"
          >
            <div 
              class="flex items-center justify-between p-6 cursor-pointer"
              @click="toggleFAQ(index)"
            >
              <BaseHeading tag="h3" size="lg" weight="semibold" class="text-muted-800 dark:text-white">
                {{ faq.question }}
              </BaseHeading>
              <div class="transform transition-transform duration-300" :class="{ 'rotate-180': isOpen(index) }">
                <Icon name="ph:caret-down-duotone" class="text-muted-500 size-6" />
              </div>
            </div>
            
            <div 
              class="overflow-hidden transition-all duration-300 ease-in-out"
              :class="isOpen(index) ? 'max-h-96 opacity-100' : 'max-h-0 opacity-0'"
            >
              <div class="px-6 pb-6 pt-2 border-t border-muted-200 dark:border-muted-700">
                <BaseParagraph size="sm" class="text-muted-600 dark:text-muted-300 leading-relaxed">
                  {{ faq.answer }}
                </BaseParagraph>
              </div>
            </div>
          </BaseCard>
        </TransitionGroup>
      </div>
    </div>

    <!-- Visual Section -->
    <BaseCard rounded="lg" class="dark:!bg-muted-900 p-8 mb-12">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
        <div>
          <BaseHeading tag="h2" size="xl" weight="semibold" class="mb-4 text-muted-800 dark:text-white">
            <Icon name="ph:lightbulb-duotone" class="text-warning-500 size-8 ml-2" />
            راهنمایی بیشتر
          </BaseHeading>
          <BaseParagraph size="md" class="text-muted-600 dark:text-muted-300 mb-6">
            اگر پاسخ سوالتان را در بین سوالات متداول پیدا نکردید، تیم پشتیبانی ما آماده کمک به شماست. 
            می‌توانید از طریق فرم تماس با ما یا شماره تلفن پشتیبانی با ما در ارتباط باشید.
          </BaseParagraph>
          <div class="flex flex-wrap gap-4">
            <NuxtLink to="/baham/contact">
              <BaseButton color="primary">
                <Icon name="ph:envelope-duotone" class="size-5 ml-2" />
                تماس با پشتیبانی
              </BaseButton>
            </NuxtLink>
            <NuxtLink to="/baham/about">
              <BaseButton color="default" outlined>
                <Icon name="ph:info-duotone" class="size-5 ml-2" />
                درباره ما
              </BaseButton>
            </NuxtLink>
          </div>
        </div>
        <div class="flex justify-center">
          <div class="relative">
            <div class="nui-mask nui-mask-hexed bg-primary-500/10 flex size-64 items-center justify-center animate-bounce">
              <Icon name="ph:chat-centered-dots-duotone" class="text-primary-500 size-32" />
            </div>
            <div class="absolute -top-4 -left-4 nui-mask nui-mask-hexed bg-success-500/10 flex size-16 items-center justify-center">
              <Icon name="ph:check-duotone" class="text-success-500 size-8" />
            </div>
            <div class="absolute -bottom-4 -right-4 nui-mask nui-mask-hexed bg-warning-500/10 flex size-16 items-center justify-center">
              <Icon name="ph:clock-duotone" class="text-warning-500 size-8" />
            </div>
          </div>
        </div>
      </div>
    </BaseCard>    
  </div>
</template>

<style scoped>
.fade-enter-active,
.fade-leave-active {
  transition: all 0.3s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
  transform: translateY(10px);
}
</style>