[
  {
    "id": "dead_letter_notifications_collection",
    "name": "dead_letter_notifications",
    "type": "base",
    "system": false,
    "schema": [
      {
        "system": false,
        "id": "original_notification_id_field",
        "name": "original_notification_id",
        "type": "text",
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "min": 1,
          "max": 50,
          "pattern": ""
        }
      },
      {
        "system": false,
        "id": "user_id_field",
        "name": "user_id",
        "type": "relation",
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "collectionId": "ak540af3bt3w7r8",
          "cascadeDelete": true,
          "minSelect": null,
          "maxSelect": 1,
          "displayFields": ["name", "email"]
        }
      },
      {
        "system": false,
        "id": "rule_id_field",
        "name": "rule_id",
        "type": "relation",
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "collectionId": "e9qpc1annfecmem",
          "cascadeDelete": false,
          "minSelect": null,
          "maxSelect": 1,
          "displayFields": ["name"]
        }
      },
      {
        "system": false,
        "id": "template_id_field",
        "name": "template_id",
        "type": "text",
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "min": null,
          "max": 50,
          "pattern": ""
        }
      },
      {
        "system": false,
        "id": "failure_reason_field",
        "name": "failure_reason",
        "type": "select",
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "maxSelect": 1,
          "values": [
            "MAX_RETRIES_EXCEEDED",
            "NON_RETRYABLE_ERROR",
            "INVALID_TOKEN",
            "USER_UNSUBSCRIBED",
            "TEMPLATE_ERROR",
            "SYSTEM_ERROR",
            "UNKNOWN_ERROR"
          ]
        }
      },
      {
        "system": false,
        "id": "retry_attempts_field",
        "name": "retry_attempts",
        "type": "number",
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "min": 0,
          "max": 20,
          "noDecimal": true
        }
      },
      {
        "system": false,
        "id": "last_error_field",
        "name": "last_error",
        "type": "text",
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "min": null,
          "max": 2000,
          "pattern": ""
        }
      },
      {
        "system": false,
        "id": "metadata_field",
        "name": "metadata",
        "type": "json",
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "maxSize": 2000000
        }
      }
    ],
    "indexes": [
      "CREATE INDEX idx_failure_reason ON dead_letter_notifications (failure_reason)",
      "CREATE INDEX idx_user_id ON dead_letter_notifications (user_id)",
      "CREATE INDEX idx_created ON dead_letter_notifications (created)"
    ],
    "listRule": "@request.auth.id != \"\" && @request.auth.role = \"admin\"",
    "viewRule": "@request.auth.id != \"\" && @request.auth.role = \"admin\"",
    "createRule": "@request.auth.id != \"\" && @request.auth.role = \"admin\"",
    "updateRule": "@request.auth.id != \"\" && @request.auth.role = \"admin\"",
    "deleteRule": "@request.auth.id != \"\" && @request.auth.role = \"admin\"",
    "options": {}
  }
]